<div id="centered">
        <div id="header">
    <a href="/"><img src="<%= image_url('logo.gif') %>" alt="" class="floatleft"></a>
    <ul id="navigation">
                                        <li><a href="/">Home</a></li>
                    <li><a href="about-us">About us</a></li>
                    <li><a href="maps">Maps</a></li>
                    <li class="active"><a href="plant-list">Plant List</a></li>
                    <li><a href="contact">Contact us</a></li>
    </ul>
  </div>
        <div id="two-col" class="border" style="width:890px;">
<h2 class="green">The Plant List</h2>
A comprehensive list of plants that Redbreast Plants is able to cultivate<br>
<br>
</div>

<div style="width:890px;">
  <div class="sortable-table">
    <div>
        <form name="searchform" method="GET" action="plant-list">
            <div>
            <span style="display:inline-block;width:120px;color:#006699">quick pre-made lists</span>

            <select name="listnum" id="quicklists" style="width:247px;">
                <option value="">All Plants</option>
                <option value="e_for_endemic">Tasmanian Species</option>
                <option value="screen">Screen Plants</option>
                <option value="windbreak">Windbreaks</option>
                <option value="groundcover">Groundcovers</option>
                <option value="exposure">Coastal Plants</option>
                <option value="drought">Drought Tolerant</option>
                <option value="snow">Hardy Plants</option>
                <option value="timber">Timber Trees</option>
                <option value="dappled">Dappled Shade</option>
                <option value="wet_sites1">Wet Site</option>
                <option value="avenue">Avenue Features</option>
                <option value="small">Small Feature Plants</option>
                <option value="container">Container Plants</option>
                <option value="cut">Cut Flowers and Foliage</option>
                <option value="border">Border Plants</option>
                <option value="clumping">Grasses Sedges and Clumping Plants</option>
                <option value="rockery">Rockery Plants</option>
                <option value="compact">Compact Plants</option>
                <option value="contrast">Climbers &amp; Contrast Plants</option>
                <option value="bushfood">Bush Food Plants</option>
                <option value="butterfl">Butterfly Attracting</option>
                <option value="bird">Bird Attracting</option>
                <option value="wastewater">Waste Water List</option>
                <option value="roadside">Roadside Planting</option>
            </select>
            </div>
            <br>
            <div>
                <span style="display:inline-block;width:120px;color:#006699">quick plant search</span>
                <input id="filter-search-input" autocomplete="off" style="padding:4px;margin:0;width:247px;" name="search" type="text" placeholder="Type to search">
            </div>
        </form>
    </div>
    <br>
    <table class="table table-striped table-bordered table-hover">
    <thead>
      <tr>
        <th style="width:110px" value="Botanical_Name" >Botanical Name</th>
        <th style="width:100px" value="Common_Name" >Common Name</th>
        <th value="Comments" >Comments</th>
        <th style="width:30px" value="Average_Height" >Avg. Height</th>
        <th style="width:30px" value="Average_Width" >Avg. Width</th>
        <th value="Flower_Colour_and_Season" >Flower &amp; Season</th>
        <th value="Soil_Types" >Soil</th>
        <th value="photo" >Photo</th>
      </tr>
    </thead>
    <tbody>
      <% @plants.each do |plant| %>
        <tr class="searchable" data-index="<%= plant.botanical_name.to_s.downcase.gsub(' ','') %> <%= plant.common_name.to_s.downcase.gsub(' ','') %> <%= plant.comments.to_s.downcase.gsub(' ','') %> <%= plant.flower_colour_and_season.to_s.downcase.gsub(' ','') %> <%= plant.soil_types.to_s.downcase.gsub(' ','') %> <%= plant.quicklist_search_string.to_s.downcase.gsub(' ','') %>">
          <td><%= plant.botanical_name %></td>
          <td><%= plant.common_name %></td>
          <td><%= plant.comments %></td>
          <td><%= plant.average_height %></td>
          <td><%= plant.average_width %></td>
          <td><%= plant.flower_colour_and_season %></td>
          <td><%= plant.soil_types %></td>
          <td>
            <% unless plant.photo.blank? %>
              <a class="see_photo" href="#photo" data-no-turbolinks="true" data-id="<%= plant.id %>">See Photo</a>
            <% end %>
          </td>
        </tr>
      <% end %>
    </tbody>
    </table>
  </div>
</div>

<!-- Modal -->
  <div class="modal fade" id="photo" role="dialog">
    <div class="modal-dialog">

      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        <div class="modal-body">
        </div>
      </div>
    </div>
  </div>

<script type="text/javascript">
$(document).ready(function()
{
    $(".see_photo").click(function(ev){
        ev.preventDefault();
        var target = "/plant.json?id=" + $(this).data("id");
        $("#photo .modal-body").load(target, function() {
          $("#photo").modal("show");
        });
        return false;
    });
    $("#myTable th").click(function()
    {
        var $_GET = [];
        var newloc = window.location.href.replace(/(&order=[a-zA-Z0-9_]+)/,"").replace(/(&orderDir=[a-zA-Z0-9_]+)/,"");
        if(newloc.indexOf('?')==-1) newloc = newloc + "?";
        if(($(this).attr('value')==$_GET['order']) && (($_GET['orderDir']=="ASC")||(!$_GET['orderDir'])))
        {
            $(location).attr('href',newloc+"&order="+$(this).attr('value')+"&orderDir=DESC");
        }
        else
        {
            $(location).attr('href',newloc+"&order="+$(this).attr('value')+"&orderDir=ASC");
        }
    });
});
</script>

